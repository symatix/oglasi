(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n(270)},120:function(e,t,n){},148:function(e,t){},268:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(31),c=n.n(r),l=n(46),o=n(22),s=n(101),u=n(110),p=Object(o.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILES":return t.payload;case"ADD_FILE":return Object(u.a)(e).concat([t.payload]);case"DELETE_FILE":return e.filter(function(e){return e._id!==t.payload._id});default:return e}}}),d=(n(120),n(11)),f=n(12),h=n(15),m=n(13),b=n(14),v=n(102),j=n.n(v),g=n(29),y=n(45),O=n.n(y),E=n(32),w=n(28),k=n.n(w),F=n(103),x=n.n(F),D=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleFile=n.handleFile.bind(Object(E.a)(Object(E.a)(n))),n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"handleFile",value:function(e){var t=new FormData;t.set("file",e.target.files[0]),k.a.post("/api/file",t,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json",type:"formData"}})}},{key:"handleTime",value:function(e){console.log(e.target.value)}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,i.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",type:"file",name:"file",onChange:this.handleFile}),i.a.createElement("label",{htmlFor:"contained-button-file"},i.a.createElement(x.a,{variant:"contained",component:"span",className:e.button},"Upload")))}}]),t}(a.Component),I=Object(g.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(D),_=n(104),C=n.n(_),N=n(105),S=n.n(N),T=n(108),L=n.n(T),A=n(106),G=n.n(A),J=n(107),M=n.n(J),U=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleDelete=function(){var e=n.props._id;k.a.delete("/api/file/".concat(e))},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.path;return i.a.createElement(O.a,{item:!0,xs:12,sm:4,lg:3},i.a.createElement(C.a,{className:t.card},i.a.createElement(S.a,{action:i.a.createElement(G.a,{onClick:this.handleDelete},i.a.createElement(M.a,null))}),i.a.createElement(L.a,{className:t.media,image:n})))}}]),t}(i.a.Component),W=Object(g.withStyles)(function(e){return{card:{maxWidth:400},media:{height:0,paddingTop:"56.25%"}}})(U),B=Object(g.withStyles)(function(e){return{root:{flexGrow:1}}})(function(e){return i.a.createElement("div",null,i.a.createElement(I,null),i.a.createElement(O.a,{container:!0,className:e.classes.root,spacing:8},e.files?e.files.map(function(e){return i.a.createElement(W,Object.assign({key:e._id},e))}):null))}),q={display:"block",margin:"0 auto",height:"100%",width:"100%"},z={height:"100vh",width:"auto"},H=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={index:0},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.state.index<e.props.files.length-1?e.setState(function(e,t){return{index:e.index+1}}):e.setState({index:0})},18e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderImg",value:function(){if(this.props.files.length>0){var e=this.props.files,t=this.state.index;return i.a.createElement("img",{style:z,src:e[t].path,alt:"bulletin board"})}return"No image present"}},{key:"render",value:function(){return i.a.createElement("div",{style:q},this.renderImg())}}]),t}(i.a.Component),K=n(60),P=n.n(K),Q=n(109),R=(n(268),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={route:window.location.pathname,endpoint:"http://127.0.0.1:7000"},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getFiles();var t=this.state.endpoint;j()(t).on("update",function(){return e.props.getFiles()})}},{key:"render",value:function(){var e,t=this.props.files;switch(this.state.route){case"/admin":e=B;break;default:e=H}return i.a.createElement("div",{className:"App"},i.a.createElement(e,{files:t}))}}]),t}(a.Component)),V=Object(l.b)(function(e){return{files:e.files}},{getFiles:function(){return function(){var e=Object(Q.a)(P.a.mark(function e(t){var n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/files");case 2:n=e.sent,t({type:"GET_FILES",payload:n.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(R),X=Object(o.d)(p,{},Object(o.a)(s.a));c.a.render(i.a.createElement(l.a,{store:X},i.a.createElement(V,null)),document.getElementById("root"))}},[[111,2,1]]]);
//# sourceMappingURL=main.ebcb3870.chunk.js.map